(this["webpackJsonpart-gallery"]=this["webpackJsonpart-gallery"]||[]).push([[0],{39:function(e,a,t){e.exports=t(77)},44:function(e,a,t){},49:function(e,a,t){},50:function(e,a,t){},51:function(e,a,t){e.exports=t.p+"static/media/logo.0fa74170.png"},52:function(e,a,t){},53:function(e,a,t){},61:function(e,a,t){},62:function(e,a,t){},63:function(e,a,t){},74:function(e,a,t){},75:function(e,a,t){},76:function(e,a,t){e.exports=t.p+"static/media/music.b8f06cd1.mp3"},77:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(33),i=t.n(r);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=t(5),l=(t(44),t(8)),s=t.n(l),u=t(10),m=t(34),d=t.n(m),f=t(78),h=(t(49),t(50),function(e){var a=Object(n.useState)(e.search),t=Object(o.a)(a,2),r=t[0],i=t[1];Object(n.useEffect)((function(){i(e.search.charAt(0).toUpperCase()+e.search.slice(1))}),[e.search]);return c.a.createElement("div",{id:"searchContainer",className:"search-container"},c.a.createElement("i",{id:"searchIcon",className:"fa fa-search search-icon"}),c.a.createElement("form",{onSubmit:function(a){a.preventDefault(),e.handleSearch(r)}},c.a.createElement("input",{id:"searchInput",className:"search-input",onChange:function(a){var t=a.target.value.substr(0,30).toLowerCase();i(t),e.handleSearch(t)},placeholder:"Search",value:r})),c.a.createElement("i",{className:r?"fas fa-times delete-icon show":"fas fa-times delete-icon hide",onClick:function(){i(""),e.handleSearch("")}}))}),E=function(e){var a=Object(n.useState)(e.search),r=Object(o.a)(a,2),i=(r[0],r[1]),l=Object(n.useCallback)((function(a){i(e),e.handleNavSearch(a)}),[]);return c.a.createElement("div",{id:"navContainer",className:"nav-container"},c.a.createElement("div",{id:"logoContainer",className:"logo-container"},c.a.createElement("img",{id:"logoImage",className:"logo-image",alt:"logo",src:t(51)})),c.a.createElement(h,{search:e.search,handleSearch:l}),c.a.createElement("div",{id:"iconsContainer",className:"icons-container"},c.a.createElement("div",{id:"homeIconContainer",className:"icon-container"},c.a.createElement("a",{href:"https://www.facebook.com/zozorender3d",target:"_blank"},c.a.createElement("i",{id:"home",className:"fa fa-home icon bar-icon"}))),c.a.createElement("div",{id:"contactIconContainer",className:"icon-container"},c.a.createElement("a",{href:"https://audition-plth.onrender.com/",target:"_blank"},c.a.createElement("i",{class:"fa-solid fa-gamepad icon bar-icon"})))))},v=(t(52),t(53),t(35));t(54);function b(e){var a=e.currentCard;return c.a.createElement("div",{id:"cardContainer",className:"card-container card-border"},c.a.createElement("div",{className:"card-image-container"},c.a.createElement(v.LazyLoadImage,{id:"cardImage",className:"card-image",alt:a.title,src:a.url,effect:"blur",placeholderSrc:"https://via.placeholder.com/300x200?text=Loading..."})),c.a.createElement("div",{className:"overlay"},c.a.createElement("div",{id:"cardTitleContainer",className:"items card-title-container"},c.a.createElement("p",{id:"cardTitle"},a.title),c.a.createElement("hr",null)),c.a.createElement("div",{id:"cardDateContainer",className:"items card-date-container"},c.a.createElement("p",{id:"cardDate"},a.created_at))))}var g=function(e){var a=e.currentCard,t=e.handleClickedCard;return c.a.createElement("li",{onClick:function(){return t(a)}},c.a.createElement(b,{currentCard:a}))},p="https://server-gallery-react.onrender.com",O=function(e){var a=Object(n.useState)([]),t=Object(o.a)(a,2),r=t[0],i=t[1],l=Object(n.useState)(!0),m=Object(o.a)(l,2),d=m[0],h=m[1],E=Object(n.useState)([]),v=Object(o.a)(E,2),b=(v[0],v[1]),O=Object(n.useCallback)((function(a){var t=a;console.log(t),b(t),e.handleGalleryClickedCard(t)}),[]);Object(n.useEffect)((function(){var e;return e=setInterval(function(){var a=Object(u.a)(s.a.mark((function a(){var t;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch(p+"/status");case 3:return t=a.sent,a.next=6,t.json();case 6:"ready"===a.sent.status&&(h(!1),clearInterval(e)),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.error("Error checking server status:",a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(){return a.apply(this,arguments)}}(),2e3),function(){return clearInterval(e)}}),[]),Object(n.useEffect)((function(){(function(){var e=Object(u.a)(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get(p+"/images");case 3:a=e.sent,h(!1),i(a.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching images:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[d]);var j=function(e,a,t){var n,r=Object.values(a);n=e?function(e,a){return e.filter((function(e){var t=-1!==e.title.toLowerCase().indexOf(a),n=!1;return!t&&e.tags&&e.tags.filter((function(e){n||(n=-1!==e.toLowerCase().indexOf(a))})),t||n}))}(r,e):r;return n.map((function(e){return c.a.createElement(g,{currentCard:e,key:e._id,handleClickedCard:t})}))}(e.search,r,O);return c.a.createElement("div",{id:"galleryContainer",className:"gallery-container"},c.a.createElement("ul",{id:"gallery",className:"gallery\r "},d?c.a.createElement("span",{class:"loader"}):j),c.a.createElement("p",{id:"cardsCounter",className:"cards-counter"},j.length," items found"))};t(61);var j=t(20),k=t(36),C=(t(62),Object(k.a)(p)),N=function(){var e=Object(n.useState)(!1),a=Object(o.a)(e,2),t=a[0],r=a[1],i=Object(n.useState)(""),l=Object(o.a)(i,2),s=l[0],u=l[1],m=Object(n.useState)(!1),d=Object(o.a)(m,2),f=d[0],h=d[1],E=Object(n.useState)(""),v=Object(o.a)(E,2),b=v[0],g=v[1],p=Object(n.useState)([]),O=Object(o.a)(p,2),k=O[0],N=O[1],w=Object(n.useState)(0),y=Object(o.a)(w,2),S=y[0],x=y[1];Object(n.useEffect)((function(){var e=function(e){console.log("Nh\u1eadn tin nh\u1eafn:",e),N((function(a){return[].concat(Object(j.a)(a),[e])})),console.log(k)};return C.on("update_online_users",(function(e){console.log("S\u1ed1 ng\u01b0\u1eddi online:",e),x(e)})),C.on("receive_message",e),function(){C.off("update_online_users"),C.off("receive_message",e)}}),[]);var I=function(){if(b.trim()){var e={username:s,text:b};C.emit("send_message",e),N((function(a){return[].concat(Object(j.a)(a),[e])})),g("")}};return c.a.createElement("div",{className:"chat-container"},!t&&c.a.createElement("button",{className:"chat-icon",onClick:function(){return r(!0)}},"Chat"),t&&!f&&c.a.createElement("div",{className:"chat-login"},c.a.createElement("div",null,"S\u1ed1 ng\u01b0\u1eddi \u0111ang online: ",S),c.a.createElement("h2",null,"Nh\u1eadp t\xean"),c.a.createElement("input",{type:"text",placeholder:"T\xean c\u1ee7a b\u1ea1n...",value:s,onChange:function(e){return u(e.target.value)}}),c.a.createElement("button",{onClick:function(){return s.trim()&&h(!0)}},"V\xe0o chat")),t&&f&&c.a.createElement("div",{className:"chat-box"},c.a.createElement("div",null,"S\u1ed1 ng\u01b0\u1eddi \u0111ang online: ",S),c.a.createElement("button",{className:"chat-close",onClick:function(){return r(!1)}},"\u0110\xf3ng"),c.a.createElement("h2",null,"Chatbox"),c.a.createElement("div",{className:"chat-messages"},k.map((function(e,a){return c.a.createElement("div",{key:a,className:"chat-message"},c.a.createElement("strong",null,e.username,":")," ",e.text)}))),c.a.createElement("div",{className:"chat-input"},c.a.createElement("input",{type:"text",placeholder:"Nh\u1eadp tin nh\u1eafn...",value:b,onChange:function(e){return g(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&I()}}),c.a.createElement("button",{onClick:I},"G\u1eedi"))))},w=function(){return c.a.createElement("a",{href:"#"},c.a.createElement("div",{className:"arrow-container"},c.a.createElement("div",{className:"round"},c.a.createElement("i",{className:"fa fa-angle-up arrow"}),c.a.createElement("i",{className:"fa fa-angle-up arrow bottom-arrow"})),c.a.createElement(N,null)))},y=t(37),S=(t(63),t(17)),x=t.n(S);try{x.a.initializeApp({apiKey:"AIzaSyBbkn86NAs0iCCE6i3dMjxctS-r93_d50s",authDomain:"artgallery-4c02e.firebaseapp.com",databaseURL:"https://artgallery-4c02e.firebaseio.com",projectId:"artgallery-4c02e",storageBucket:"artgallery-4c02e.appspot.com",messagingSenderId:"955387804026",appId:"1:955387804026:web:d9fa5f3954d08b61983ec3",measurementId:"G-E986Y4Q017"})}catch(K){/already exists/.test(K.message)}x.a.database(),new x.a.auth.GoogleAuthProvider,x.a.auth(),x.a;var I=t(30),z=function(e){var a=e.card;console.log(a);var t=Object(n.useState)(""),r=Object(o.a)(t,2),i=(r[0],r[1]);Object(n.useCallback)((function(a){i(a),e.handleTagSearch(a)}),[]);return c.a.createElement("div",{className:"zoom-container"},c.a.createElement(_,{card:a}),c.a.createElement("div",{id:"detailsContainer",className:"details-container"},c.a.createElement("p",{id:"title",className:"title"},a.title),c.a.createElement("hr",null),c.a.createElement("p",{id:"description"},a.description),c.a.createElement("p",{id:"date",className:"date"},"\u2013 ",a.created_at),c.a.createElement("div",{className:"likes-container"},c.a.createElement(A,{card:a}))))};function _(e){var a=e.card;return c.a.createElement("div",{id:"imageContainer",className:"image-container"},c.a.createElement(I.b,null,(function(e){var t=e.zoomIn,n=e.zoomOut,r=e.resetTransform;Object(y.a)(e,["zoomIn","zoomOut","resetTransform"]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"image-wrapper"},c.a.createElement(I.a,null,c.a.createElement("img",{id:"image",className:"image",src:a.url,alt:a.title}))),c.a.createElement("div",{className:"tools"},c.a.createElement("button",{className:"zoom-in-btn",onClick:t},c.a.createElement("i",{className:"fas fa-search-plus zoom-in-icon"})),c.a.createElement("button",{className:"zoom-out-btn",onClick:n},c.a.createElement("i",{className:"fas fa-search-minus zoom-out-icon"})),c.a.createElement("button",{className:"zoom-reset-btn",onClick:r},c.a.createElement("i",{className:"fas fa-expand zoom-reset-icon"}))))})))}function A(e){var a=e.card,t=Object(n.useState)(!1),r=Object(o.a)(t,2),i=r[0],l=r[1],s=Object(n.useState)((function(){return parseInt(e.card.likes,10)})),u=Object(o.a)(s,2),m=u[0],d=u[1];return Object(n.useEffect)((function(){d(parseInt(e.card.like,10))}),[e.card.likes]),Object(n.useEffect)((function(){d(parseInt(e.card.like,10))}),[e]),c.a.createElement("div",{className:"like-container"},c.a.createElement("i",{className:i?"fa fa-heart like-icon like-icon-anim":"fa fa-heart like-icon ",onClick:function(){console.log("Card ID:",a.id),a.id?fetch("".concat(p,"/images/").concat(a.id,"/like"),{method:"PUT",headers:{"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw new Error("Failed to like image");return e.json()})).then((function(e){e.image&&(l(!i),d(e.image.like))})).catch((function(e){console.error("Error liking image:",e)})):console.error("Error: Card ID is undefined!")},onAnimationEnd:function(){return l(!i)}}),c.a.createElement("p",{id:"likes"},m))}t(74);var L=function(e){var a=Object(n.useState)(!1),t=Object(o.a)(a,2),r=t[0],i=t[1],l=Object(n.useState)(""),m=Object(o.a)(l,2),h=m[0],v=m[1],b=Object(n.useState)([]),g=Object(o.a)(b,2),j=g[0],k=g[1],C=Object(n.useState)(!1),N=Object(o.a)(C,2),y=N[0],S=N[1];Object(n.useEffect)((function(){e.windowWidth<501?(console.log("narrow"),S(!1)):S(!0)}),[e.windowWidth]);var x=Object(n.useCallback)((function(e){v(e)}),[]),I=Object(n.useCallback)((function(e){i(!1),v(e.toLowerCase())}),[]),_=Object(n.useCallback)((function(e){console.log(e);var a=e._id;console.log("from recieveCardDetails",a),function(e){A.apply(this,arguments)}(a)}),[]);function A(){return(A=Object(u.a)(s.a.mark((function e(a){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),e.prev=1,e.next=4,f.a.get("".concat(p,"/images/").concat(a),{headers:{Authorization:"Basic ".concat(btoa("0Ag49RB9uUxpHCw-KHR-yxHK6yI"))}});case 4:t=e.sent,n={id:t.data._id,url:t.data.url,description:t.data.description,title:t.data.title,created_at:t.data.createdAt,like:t.data.like},k(n),console.log(n),i(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error("Error fetching card details from Cloudinary:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}return c.a.createElement("div",{id:"ArtGallery",className:"wide-art-gallery"},c.a.createElement("div",{className:r?y?"art-gallery-background avoid-clicks":"art-gallery-background avoid-clicks no-scroll":""},c.a.createElement(E,{search:h,handleNavSearch:x}),c.a.createElement(O,{search:h,handleGalleryClickedCard:_}),y&&r&&c.a.createElement(d.a,null)),void 0!==j&&0!==j.length&&r?c.a.createElement("div",{className:y?"zoom-card-wide":"zoom-card-narrow"},c.a.createElement("i",{className:"fas fa-times exit-icon",onClick:function(){return i(!1)}}),c.a.createElement(z,{card:j,handleTagSearch:I})):c.a.createElement(w,null))},T=(t(75),function(){var e=Object(n.useState)(new Audio(t(76))),a=Object(o.a)(e,1)[0],r=Object(n.useState)(!0),i=Object(o.a)(r,2),l=i[0],s=i[1],u=Object(n.useState)(!1),m=Object(o.a)(u,2),d=(m[0],m[1]);return c.a.createElement("div",null,l&&c.a.createElement("div",{className:"modal"},c.a.createElement("div",{className:"modal-content"},c.a.createElement("p",null,"Click OK to play music!"),c.a.createElement("button",{onClick:function(){a.loop=!0,a.play().catch((function(e){console.error("Error playing audio:",e)})),d(!0),s(!1)},style:{marginRight:"10px"}},"OK"),c.a.createElement("button",{onClick:function(){a.pause(),a.currentTime=0,d(!1),s(!1)}},"Cancel"))))});function D(){var e=function(){var e=Object(n.useState)(B()),a=Object(o.a)(e,2),t=a[0],c=a[1];return Object(n.useEffect)((function(){function e(){c(B())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),t}(),a=(e.height,e.width);return c.a.createElement("div",{className:"App"},c.a.createElement(T,null),c.a.createElement(L,{windowWidth:a}))}function B(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var G=document.getElementById("root");i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(D,null)),G),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.4d10b3f1.chunk.js.map